@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import design system utilities */
@import './styles/utilities.css';

:root {
  --primary-color: #354f32;
  --primary-color-soft: rgba(53, 79, 50, 0.16);
  --bg-image: url('./assets/background_1.jpg');
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-size: 13px;
  line-height: 1.4;
  color: #111827;
  background-color: #f3f4f6;
  overflow-x: hidden; /* Prevent horizontal scroll */
}

/* Mobile viewport optimization */
@media (max-width: 768px) {
  body {
    font-size: 12px;
  }
  
  * {
    max-width: 100vw; /* Prevent any element from exceeding viewport width */
    box-sizing: border-box; /* Ensure padding doesn't cause overflow */
  }
  
  /* Prevent text from causing horizontal scroll */
  p, span, div, h1, h2, h3, h4, h5, h6 {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }
  
  /* Ensure images don't overflow */
  img {
    max-width: 100% !important;
    height: auto !important;
  }
}

.dark {
  color-scheme: dark;
}

.dark body {
  color: #e5e7eb;
  background-color: #020617;
}

.app-bg {
  background-color: #e5e7eb;
  background-image: 
    linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)),
    var(--bg-image);
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
}

.dark .app-bg {
  background-image: 
    linear-gradient(rgba(2, 6, 23, 0.9), rgba(2, 6, 23, 0.9)),
    var(--bg-image);
}

.weather-bg {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  opacity: 0.25;
}
.weather-rain {
  background-image: repeating-linear-gradient(120deg, rgba(255,255,255,0.25) 0 2px, transparent 2px 8px);
  animation: rainFall 1.2s linear infinite;
  background-size: 8px 100%;
}
.weather-sunny {
  background-image: conic-gradient(from 0deg, rgba(255,255,255,0.15) 0 12deg, transparent 12deg 24deg);
  animation: sunRotate 12s linear infinite;
}
.weather-wind {
  background-image: repeating-linear-gradient(0deg, rgba(255,255,255,0.25) 0 1px, transparent 1px 20px);
  animation: windMove 4s linear infinite;
  background-size: 100% 20px;
}
@keyframes rainFall {
  0% { background-position: 0 0; }
  100% { background-position: 0 200px; }
}
@keyframes sunRotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
@keyframes windMove {
  0% { background-position: -200px 0; }
  100% { background-position: 200px 0; }
}

@layer components {
  /* Reduce default text sizes globally to match compact UI */
  .text-3xl {
    font-size: 1.375rem !important; /* Compact heading */
    line-height: 1.75rem !important;
  }
  .text-2xl {
    font-size: 1.125rem !important; /* Compact subheading */
    line-height: 1.5rem !important;
  }
  .text-xl {
    font-size: 1rem !important; /* Compact title */
    line-height: 1.5rem !important;
  }
  .text-lg {
    font-size: 0.9375rem !important; /* Slightly larger than base */
    line-height: 1.375rem !important;
  }
  
  /* Make buttons more compact */
  button, [role="button"] {
    padding-top: 0.375rem !important;
    padding-bottom: 0.375rem !important;
  }
  
  /* Reduce large padding classes */
  .py-4 {
    padding-top: 0.625rem !important;
    padding-bottom: 0.625rem !important;
  }
  .py-3 {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }
  .px-8 {
    padding-left: 1.25rem !important;
    padding-right: 1.25rem !important;
  }
  .px-6 {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
  
  /* Reduce checkbox sizes */
  input[type="checkbox"] {
    width: 1rem !important;
    height: 1rem !important;
    min-width: 1rem !important;
    min-height: 1rem !important;
  }
  
  /* Reduce icon sizes globally */
  svg {
    max-width: 1.25rem !important;
    max-height: 1.25rem !important;
  }
  
  /* Reduce profile image sizes */
  img[alt*="profile" i], img[alt*="avatar" i], .profile-image, .avatar {
    max-width: 2rem !important;
    max-height: 2rem !important;
  }
  
  /* Mobile-specific reductions */
  @media (max-width: 768px) {
    /* Prevent horizontal overflow */
    html, body {
      overflow-x: hidden !important;
      max-width: 100vw !important;
    }
    
    /* Container adjustments */
    .container, .max-w-7xl, .max-w-6xl, .max-w-5xl, .max-w-4xl {
      max-width: 100% !important;
      padding-left: 0.75rem !important;
      padding-right: 0.75rem !important;
    }
    
    /* Even smaller on mobile */
    input[type="checkbox"] {
      width: 0.875rem !important;
      height: 0.875rem !important;
    }
    
    svg {
      max-width: 1rem !important;
      max-height: 1rem !important;
    }
    
    img[alt*="profile" i], img[alt*="avatar" i], .profile-image, .avatar {
      max-width: 1.75rem !important;
      max-height: 1.75rem !important;
    }
    
    /* Reduce navigation panel padding */
    nav, aside, [role="navigation"] {
      padding: 0.5rem !important;
    }
    
    /* Reduce button padding on mobile */
    button, [role="button"] {
      padding: 0.25rem 0.5rem !important;
      font-size: 0.75rem !important;
    }
    
    /* Make tables responsive */
    table {
      display: block !important;
      overflow-x: auto !important;
      white-space: nowrap !important;
      font-size: 0.75rem !important;
    }
    
    th, td {
      padding: 0.375rem !important;
      font-size: 0.75rem !important;
    }
    
    /* Reduce card padding */
    .bg-white, .rounded-lg, .shadow {
      padding: 0.75rem !important;
      margin: 0.5rem 0 !important;
    }
    
    /* Reduce heading sizes on mobile */
    h1, .text-3xl {
      font-size: 1.125rem !important;
    }
    
    h2, .text-2xl {
      font-size: 1rem !important;
    }
    
    h3, .text-xl {
      font-size: 0.9375rem !important;
    }
    
    /* Reduce spacing */
    .space-y-6 > * + * {
      margin-top: 0.75rem !important;
    }
    
    .space-y-4 > * + * {
      margin-top: 0.5rem !important;
    }
    
    .gap-6 {
      gap: 0.75rem !important;
    }
    
    .gap-4 {
      gap: 0.5rem !important;
    }
    
    /* Make grids single column on mobile */
    .grid-cols-2, .grid-cols-3, .grid-cols-4 {
      grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
    }
    
    /* Reduce form input sizes */
    input, select, textarea {
      font-size: 0.8125rem !important;
      padding: 0.375rem 0.5rem !important;
    }
    
    /* Reduce modal sizes */
    [role="dialog"] {
      max-width: 95vw !important;
      margin: 0.5rem !important;
    }
  }
  
  .hover-highlight {
    transition: all 150ms ease-in-out;
  }
  .hover-highlight:hover {
    box-shadow: 0 0 0 3px var(--primary-color-soft), 0 8px 16px rgba(0,0,0,0.08);
    transform: translateY(-1px) scale(1.02);
    filter: saturate(1.05);
  }
  .hover-icon-highlight {
    transition: all 150ms ease-in-out;
  }
  .hover-icon-highlight:hover {
    color: var(--primary-color);
    transform: translateY(-1px) scale(1.05);
  }
  .hover-text-highlight {
    transition: color 150ms ease-in-out;
  }
  .hover-text-highlight:hover {
    color: var(--primary-color);
  }

  button,
  [role="button"] {
    transition: all 150ms ease-in-out;
  }
  button:hover,
  [role="button"]:hover {
    box-shadow: 0 0 0 3px var(--primary-color-soft), 0 8px 16px rgba(0,0,0,0.08);
    transform: translateY(-1px) scale(1.02);
    filter: saturate(1.05);
  }

  a {
    transition: color 150ms ease-in-out;
  }
  a:hover {
    color: var(--primary-color);
  }
}
