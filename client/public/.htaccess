Options -MultiViews
RewriteEngine On
RewriteBase /

# Correct MIME types
AddType application/javascript .js .mjs
AddType text/css .css
AddType application/json .json
AddType application/manifest+json .webmanifest
AddType image/webp .webp

# Serve existing asset files as-is
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Do not rewrite static asset extensions
RewriteCond %{REQUEST_URI} \.(?:js|mjs|css|png|jpg|jpeg|gif|webp|svg|ico|json|txt|map|woff|woff2|ttf)$ [NC]
RewriteRule ^ - [L]

# SPA fallback for client-side routes
RewriteRule . /index.html [L]
