import{u as e,j as l}from"./index-CxXeNUtR.js";import{r as t}from"./vendor-react-BJYbxeCs.js";import{a as s}from"./vendor-utils-qHW_S61q.js";import{R as a}from"./ResponsiveTable-DG-Cxeno.js";import{u as i,A as r,U as n,ao as d}from"./vendor-ui-Cf-65S3f.js";import"./useResponsive-XC39aU2L.js";const o=()=>{const{user:o}=e(),[c,x]=t.useState(null),[m,h]=t.useState([]),[g,u]=t.useState(!0);return t.useEffect(()=>{(async()=>{if(o&&"cadet"===o.role)try{const e=(await s.get("/api/cadet/profile")).data.id,l=await s.get(`/api/recognition/cadet/${e}/achievements`);x(l.data);const t=await s.get("/api/recognition/leaderboard?limit=10");h(t.data)}catch(e){}finally{u(!1)}else u(!1)})()},[o]),g?l.jsx("div",{className:"text-center p-10",children:"Loading achievements..."}):l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(i,{className:"text-yellow-500",size:32}),"My Achievements"]})}),l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg shadow-lg p-8 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Lifetime Merit Achievement"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-6xl font-extrabold",children:(null==c?void 0:c.lifetimeMerit)||0}),l.jsxs("div",{children:[l.jsx("p",{className:"text-lg opacity-90",children:"Total Merits Earned"}),l.jsxs("p",{className:"text-sm opacity-75",children:["Current Rank: ",(null==c?void 0:c.rank)||"Cadet"]})]})]})]}),l.jsxs("div",{className:"text-8xl",children:["Platinum"===(null==c?void 0:c.rank)&&"ðŸ’Ž","Gold"===(null==c?void 0:c.rank)&&"ðŸ¥‡","Silver"===(null==c?void 0:c.rank)&&"ðŸ¥ˆ","Bronze"===(null==c?void 0:c.rank)&&"ðŸ¥‰",!(null==c?void 0:c.rank)&&"ðŸŽ–ï¸"]})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[l.jsx(r,{className:"text-blue-600"}),"Achievement Badges"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{level:"Bronze",threshold:50,icon:"ðŸ¥‰",color:"from-yellow-700 to-yellow-900"},{level:"Silver",threshold:100,icon:"ðŸ¥ˆ",color:"from-gray-300 to-gray-500"},{level:"Gold",threshold:150,icon:"ðŸ¥‡",color:"from-yellow-400 to-yellow-600"},{level:"Platinum",threshold:200,icon:"ðŸ’Ž",color:"from-blue-300 to-purple-400"}].map(e=>{var t;const s=null==(t=null==c?void 0:c.achievements)?void 0:t.some(l=>l.level===e.level),a=Math.min(100,((null==c?void 0:c.lifetimeMerit)||0)/e.threshold*100);return l.jsxs("div",{className:"relative rounded-lg p-6 text-center transition-all "+(s?`bg-gradient-to-br ${e.color} text-white shadow-lg transform hover:scale-105`:"bg-gray-100 text-gray-400 opacity-60"),children:[l.jsx("div",{className:"text-6xl mb-3",children:e.icon}),l.jsx("h3",{className:"text-xl font-bold mb-1",children:e.level}),l.jsxs("p",{className:"text-sm mb-3",children:[e.threshold,"+ Merits"]}),!s&&l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2 mb-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${a}%`}})}),l.jsxs("p",{className:"text-xs",children:[e.threshold-((null==c?void 0:c.lifetimeMerit)||0)," more needed"]})]}),s&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx("span",{className:"bg-white text-green-600 rounded-full px-2 py-1 text-xs font-bold",children:"âœ“ EARNED"})})]},e.level)})})]}),(null==c?void 0:c.nextMilestone)&&l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow p-6 border-2 border-blue-200",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-5xl",children:c.nextMilestone.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:["Next Milestone: ",c.nextMilestone.level]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"w-full bg-gray-300 rounded-full h-4 mb-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-4 rounded-full transition-all",style:{width:(c.lifetimeMerit||0)/c.nextMilestone.threshold*100+"%"}})}),l.jsxs("p",{className:"text-sm text-gray-600",children:[c.lifetimeMerit," / ",c.nextMilestone.threshold," merits"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:c.nextMilestone.pointsNeeded}),l.jsx("p",{className:"text-sm text-gray-600",children:"more needed"})]})]})]})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[l.jsx(n,{className:"text-green-600"}),"Top Performers"]}),l.jsx(a,{data:m,columns:[{key:"rank",label:"Rank",render:(e,t,s)=>l.jsx("span",{className:"font-bold "+(0===s?"text-yellow-600 text-xl":1===s?"text-gray-500 text-lg":2===s?"text-orange-600 text-lg":"text-gray-700"),children:s<3?["ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰"][s]:`#${t.rank}`})},{key:"name",label:"Name",render:(e,t)=>l.jsx("span",{className:"font-medium",children:t.name})},{key:"unit",label:"Unit",render:(e,t)=>l.jsxs("span",{className:"text-sm text-gray-600",children:[t.company," / ",t.platoon]})},{key:"lifetimeMerit",label:"Lifetime Merits",align:"right",render:(e,t)=>l.jsx("span",{className:"font-bold text-lg text-purple-600",children:t.lifetimeMerit})},{key:"badge",label:"Badge",align:"center",render:(e,t)=>{var s;return l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("span",{className:"font-bold text-sm text-purple-700",children:t.lifetimeMerit}),l.jsx("span",{className:"text-2xl",children:(null==(s=t.badge)?void 0:s.icon)||"-"})]})}}],loading:g,emptyMessage:"No achievement data available.",pagination:!0,itemsPerPage:10,className:"bg-white"})]}),l.jsx("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-lg shadow p-6 border-l-4 border-green-500",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx(d,{className:"text-green-600 flex-shrink-0",size:32}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Keep Up the Great Work!"}),l.jsx("p",{className:"text-gray-700",children:"Your lifetime merit points represent your dedication and excellence throughout your ROTC journey. Every merit earned contributes to your legacy, even when you've reached the 100-point ceiling. Continue striving for excellence!"})]})]})})]})};export{o as default};
