const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingPage-m3_TNZmt.js","assets/vendor-react-BJYbxeCs.js","assets/vendor-ui-Cf-65S3f.js","assets/vendor-utils-qHW_S61q.js","assets/Login-DqEQYq_d.js","assets/rgms_logo-BUxcTMqz.js","assets/Settings-BdZNm65s.js","assets/AdminLayout-CNIdNaha.js","assets/CrossPlatformStandardizer-Lc6mSZwB.js","assets/useResponsive-XC39aU2L.js","assets/image-DaHBJgAL.js","assets/Dashboard-CEKa6z9Q.js","assets/WeatherAdvisory-ibqTx0ub.js","assets/Cadets-acQGJSD0.js","assets/jspdf.plugin.autotable-Dv72AUe6.js","assets/vendor-media-Cvam96dz.js","assets/options-BYzxVcHd.js","assets/religions-DvHeR2Pm.js","assets/ResponsiveTable-C7m1nVKB.js","assets/MobileFormLayout-CMymzK14.js","assets/ArchivedCadets-DLrpQ706.js","assets/Grading-74rqoRrE.js","assets/Attendance-B8afCGhB.js","assets/ExcuseLetterManager-Bx7T9csS.js","assets/Activities-FEvYWpTH.js","assets/Achievements-pibQ09DL.js","assets/DataAnalysis-DCf6AKWL.js","assets/PerformanceMonitor-DxcMkwq1.js","assets/Profile-BttsLt1H.js","assets/TrainingStaffManagement-CujM-oC4.js","assets/StaffAttendanceScanner-Dlmuoj4E.js","assets/StaffAnalytics-D2fqMixy.js","assets/AdminMessages-BODXUVug.js","assets/BroadcastMessages-DNKsdpkT.js","assets/ThreeDStudio-BTE3kKrb.js","assets/CadetLayout-NIjc4BP0.js","assets/Home-CPAw60sH.js","assets/Dashboard-uSiq0kGi.js","assets/Profile-DXw4YTxk.js","assets/About-L8wweSZZ.js","assets/Achievements-DOnDQUOr.js","assets/AskAdmin-DU5j8Vzf.js","assets/StaffLayout-DH8n_mXf.js","assets/Home-BSWbMDgq.js","assets/Dashboard-DwLm24Px.js","assets/Achievements-rSIJ34xa.js","assets/Profile-b6b5OL8K.js","assets/Onboarding-C4pVTKIi.js","assets/Communication-CK6CTonQ.js","assets/MyQRCode-DzqpE914.js"])))=>i.map(i=>d[i]);
import{r as e,a as t,u as a,N as s,O as o,b as r,B as n,d as i,e as l}from"./vendor-react-BJYbxeCs.js";import{o as c,a as d}from"./vendor-utils-qHW_S61q.js";import{n as m,F as u}from"./vendor-ui-Cf-65S3f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var p={exports:{}},_={},f=e,h=Symbol.for("react.element"),g=Symbol.for("react.fragment"),j=Object.prototype.hasOwnProperty,y=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function b(e,t,a){var s,o={},r=null,n=null;for(s in void 0!==a&&(r=""+a),void 0!==t.key&&(r=""+t.key),void 0!==t.ref&&(n=t.ref),t)j.call(t,s)&&!x.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:h,type:e,key:r,ref:n,props:o,_owner:y.current}}_.Fragment=g,_.jsx=b,_.jsxs=b,p.exports=_;var v=p.exports,E={},S=t;E.createRoot=S.createRoot,E.hydrateRoot=S.hydrateRoot;const P={},O=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in P)return;P[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,a&&o.setAttribute("nonce",a),document.head.appendChild(o),t?new Promise((t,a)=>{o.addEventListener("load",t),o.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},R=async()=>c("rotc_grading_system_db",8,{upgrade(e,t,a,s){if(t<7){const t=e.objectStoreNames;t.contains("admin")&&s.objectStore("admin").clear(),t.contains("cadets")&&s.objectStore("cadets").clear(),t.contains("grading")&&s.objectStore("grading").clear(),t.contains("training_days")&&s.objectStore("training_days").clear(),t.contains("analytics")&&s.objectStore("analytics").clear()}e.objectStoreNames.contains("cadets")||e.createObjectStore("cadets",{keyPath:"id"}),e.objectStoreNames.contains("admin")||e.createObjectStore("admin",{keyPath:"key"}),e.objectStoreNames.contains("grading")||e.createObjectStore("grading",{keyPath:"key"}),e.objectStoreNames.contains("grades")||e.createObjectStore("grades",{keyPath:"id"}),e.objectStoreNames.contains("activities")||e.createObjectStore("activities",{keyPath:"id"}),e.objectStoreNames.contains("merit_demerit_logs")||e.createObjectStore("merit_demerit_logs",{keyPath:"id"}),e.objectStoreNames.contains("attendance_records")||e.createObjectStore("attendance_records",{keyPath:"id"}),e.objectStoreNames.contains("training_days")||e.createObjectStore("training_days",{keyPath:"id"}),e.objectStoreNames.contains("excuse_letters")||e.createObjectStore("excuse_letters",{keyPath:"id"}),e.objectStoreNames.contains("analytics")||e.createObjectStore("analytics",{keyPath:"key"}),e.objectStoreNames.contains("profiles")||e.createObjectStore("profiles",{keyPath:"key"}),e.objectStoreNames.contains("attendance_by_day")||e.createObjectStore("attendance_by_day",{keyPath:"key"}),e.objectStoreNames.contains("dashboard")||e.createObjectStore("dashboard",{keyPath:"key"})}}),A=async(e,t)=>{const a=(await R()).transaction(e,"readwrite"),s=a.objectStore(e);await s.clear();for(const o of t)await s.put(o);await a.done},I=async e=>(await R()).getAll(e),k=async e=>{const t=await R();await t.clear(e)},w=async(e,t,a)=>{const s=await R();await s.put(e,{key:t,data:a,timestamp:Date.now()})},L=async(e,t)=>{const a=await R(),s=await a.get(e,t);return s?s.data:null},T=async()=>{const e=await R(),t=["admin","cadets","grading","training_days","analytics","profiles","dashboard"];let a=0;for(const o of t)try{const t=e.transaction(o,"readwrite"),s=t.objectStore(o),r=await s.getAll();for(const e of r)if(e.timestamp){Date.now()-e.timestamp>864e5&&(await s.delete(e.key),a++)}await t.done}catch(s){}return a};R().then(()=>{T(),setInterval(T,36e5)});const D=e.createContext(),N=()=>e.useContext(D),C=({children:t})=>{const[a,s]=e.useState(null),[o,r]=e.useState(!0),n=e.useCallback(async()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("cadetId"),localStorage.removeItem("isProfileCompleted");try{await k("profiles")}catch{}s(null),delete d.defaults.headers.common.Authorization},[]),i=e.useCallback(async e=>{const t=(e.role||"").toLowerCase();localStorage.setItem("token",e.token),localStorage.setItem("role",t),e.cadetId&&localStorage.setItem("cadetId",e.cadetId),void 0!==e.isProfileCompleted&&localStorage.setItem("isProfileCompleted",e.isProfileCompleted),s({...e,role:t}),d.defaults.headers.common.Authorization=`Bearer ${e.token}`;try{await k("profiles")}catch{}},[]);e.useEffect(()=>{(async()=>{const e=localStorage.getItem("token"),t=(localStorage.getItem("role")||"").toLowerCase(),a=localStorage.getItem("cadetId"),o=localStorage.getItem("isProfileCompleted");if(e){s({token:e,role:t,cadetId:a,isProfileCompleted:"true"===o||"1"===o}),d.defaults.headers.common.Authorization=`Bearer ${e}`}r(!1)})()},[]),e.useEffect(()=>{(async()=>{if(a&&"cadet"===a.role)try{const e=await d.get("/api/cadet/profile",{headers:{"Cache-Control":"no-store"}}),t=(null==e?void 0:e.data)&&(1===e.data.is_profile_completed||!0===e.data.is_profile_completed||"1"===e.data.is_profile_completed);t!==a.isProfileCompleted&&(localStorage.setItem("isProfileCompleted",t?"true":"false"),s(e=>({...e,isProfileCompleted:t})))}catch{}})()},[a]),e.useEffect(()=>{if(!a)return;const e=async()=>{try{await d.post("/api/auth/heartbeat")}catch(e){}},t=setTimeout(e,2e3),s=setInterval(e,6e4);return()=>{clearTimeout(t),clearInterval(s)}},[a,n]);const l=e.useMemo(()=>({user:a,login:i,logout:n,loading:o}),[a,i,n,o]);return v.jsx(D.Provider,{value:l,children:!o&&t})},z=e.createContext(),V=()=>e.useContext(z),M=({children:t})=>{const s=a(),[o,r]=e.useState(()=>{var e,t,a,s,o,r,n;try{const i=localStorage.getItem("rgms_settings");if(i){const l=JSON.parse(i);return{notifications:{emailAlerts:!!(null==(e=null==l?void 0:l.notifications)?void 0:e.emailAlerts),pushNotifications:!!(null==(t=null==l?void 0:l.notifications)?void 0:t.pushNotifications),activityUpdates:!!(null==(a=null==l?void 0:l.notifications)?void 0:a.activityUpdates)},display:{darkMode:!!(null==(s=null==l?void 0:l.display)?void 0:s.darkMode),compactMode:!!(null==(o=null==l?void 0:l.display)?void 0:o.compactMode)},theme:{primaryColor:(null==(r=null==l?void 0:l.theme)?void 0:r.primaryColor)||"default",customBg:null==(n=null==l?void 0:l.theme)?void 0:n.customBg}}}}catch{}return{notifications:{emailAlerts:!0,pushNotifications:!0,activityUpdates:!0},display:{darkMode:!1,compactMode:!1},theme:{primaryColor:"default"}}}),[n,i]=e.useState(!0),l=async()=>{try{const e=localStorage.getItem("token");if(!e)return void i(!1);const t=await d.get("/api/auth/settings",{headers:{Authorization:`Bearer ${e}`}});if(t.data){const e={notifications:{emailAlerts:!!t.data.email_alerts,pushNotifications:!!t.data.push_notifications,activityUpdates:!!t.data.activity_updates},display:{darkMode:!!t.data.dark_mode,compactMode:!!t.data.compact_mode},theme:{primaryColor:t.data.primary_color||"default",customBg:t.data.custom_bg}};r(e);try{localStorage.setItem("rgms_settings",JSON.stringify(e))}catch{}}}catch(e){}finally{i(!1)}};e.useEffect(()=>{l()},[]),e.useLayoutEffect(()=>{o.display.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),o.display.compactMode?document.body.classList.add("compact-mode"):document.body.classList.remove("compact-mode"),o.theme.customBg?document.documentElement.style.setProperty("--bg-image",`url('${o.theme.customBg}')`):document.documentElement.style.removeProperty("--bg-image");const e={default:{main:"#0f766e",soft:"rgba(15, 118, 110, 0.18)"},blue:{main:"#2563eb",soft:"rgba(37, 99, 235, 0.18)"},indigo:{main:"#4f46e5",soft:"rgba(79, 70, 229, 0.18)"},green:{main:"#16a34a",soft:"rgba(22, 163, 74, 0.18)"},emerald:{main:"#059669",soft:"rgba(5, 150, 105, 0.18)"},red:{main:"#dc2626",soft:"rgba(220, 38, 38, 0.18)"},pink:{main:"#db2777",soft:"rgba(219, 39, 119, 0.18)"},purple:{main:"#7c3aed",soft:"rgba(124, 58, 237, 0.18)"},orange:{main:"#ea580c",soft:"rgba(234, 88, 12, 0.18)"},amber:{main:"#d97706",soft:"rgba(217, 119, 6, 0.18)"},cyan:{main:"#06b6d4",soft:"rgba(6, 182, 212, 0.18)"},slate:{main:"#334155",soft:"rgba(51, 65, 85, 0.18)"},teal:{main:"#0f766e",soft:"rgba(15, 118, 110, 0.22)"},"gradient-emerald":{main:"#059669",soft:"rgba(5, 150, 105, 0.18)",gradient:"linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%)"},"gradient-sunset":{main:"#ea580c",soft:"rgba(234, 88, 12, 0.18)",gradient:"linear-gradient(135deg, #fb7185 0%, #f59e0b 50%, #ea580c 100%)"},"gradient-ocean":{main:"#2563eb",soft:"rgba(37, 99, 235, 0.18)",gradient:"linear-gradient(135deg, #06b6d4 0%, #3b82f6 50%, #1d4ed8 100%)"}},t=e[o.theme.primaryColor]||e.blue;document.documentElement.style.setProperty("--primary-color",t.main),document.documentElement.style.setProperty("--primary-color-soft",t.soft),t.gradient?document.documentElement.style.setProperty("--primary-gradient",t.gradient):document.documentElement.style.removeProperty("--primary-gradient");try{localStorage.setItem("rgms_settings",JSON.stringify(o))}catch{}},[o]);return v.jsx(z.Provider,{value:{settings:o,updateSettings:async e=>{var t,a;const n=o;r(e);try{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication expired. Please login again.");const a={email_alerts:e.notifications.emailAlerts,push_notifications:e.notifications.pushNotifications,activity_updates:e.notifications.activityUpdates,dark_mode:e.display.darkMode,compact_mode:e.display.compactMode,primary_color:e.theme.primaryColor};await d.put("/api/auth/settings",a,{headers:{Authorization:`Bearer ${t}`}});try{localStorage.setItem("rgms_settings",JSON.stringify(e))}catch{}return{success:!0}}catch(i){if(r(n),i.response&&(401===i.response.status||403===i.response.status))return localStorage.removeItem("token"),s("/login"),{success:!1,message:"Session expired. Please login again."};return{success:!1,message:(null==(a=null==(t=i.response)?void 0:t.data)?void 0:a.message)||i.message||"Failed to save settings"}}},fetchSettings:l,loading:n},children:t})},B=({allowedRoles:e})=>{const{user:t}=N();if(!t)return v.jsx(s,{to:"/login",replace:!0});const a=(t.role||"").toLowerCase(),r=Array.isArray(e)?e.map(e=>(e||"").toLowerCase()):null;return r&&!r.includes(a)?v.jsx(s,{to:"/unauthorized",replace:!0}):v.jsx(o,{})};class U extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){try{String(e&&e.message?e.message:"").toLowerCase().includes("cannot access 'g' before initialization")}catch{}}render(){var e;return this.state.hasError?v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] p-6 text-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong."}),v.jsx("p",{className:"text-gray-600 mb-4",children:(null==(e=this.state.error)?void 0:e.message)||"An unexpected error occurred."}),v.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Reload Page"})]}):this.props.children}}function W(t={}){const{immediate:a=!0,onNeedRefresh:s,onOfflineReady:o,onRegistered:r,onRegisteredSW:n,onRegisterError:i}=t,[l,c]=e.useState(!1),[d,m]=e.useState(!1),[u]=e.useState(()=>function(e={}){const{immediate:t=!1,onNeedRefresh:a,onOfflineReady:s,onRegistered:o,onRegisteredSW:r,onRegisterError:n}=e;let i,l;return l=async function(){if("serviceWorker"in navigator){const{Workbox:e}=await O(async()=>{const{Workbox:e}=await import("./workbox-window.prod.es5-CLYUWRvB.js");return{Workbox:e}},[]);i=new e("/sw.js",{scope:"/",type:"classic"}),i.addEventListener("activated",e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),i.addEventListener("installed",e=>{e.isUpdate||null==s||s()}),i.register({immediate:t}).then(e=>{r?r("/sw.js",e):null==o||o(e)}).catch(e=>{null==n||n(e)})}}(),async(e=!0)=>{await l}}({immediate:a,onOfflineReady(){m(!0),null==o||o()},onNeedRefresh(){c(!0),null==s||s()},onRegistered:r,onRegisteredSW:n,onRegisterError:i}));return{needRefresh:[l,c],offlineReady:[d,m],updateServiceWorker:u}}function $(){const{offlineReady:[e,t],needRefresh:[a,s],updateServiceWorker:o}=W({onRegistered(e){},onRegisterError(e){}});return r.useEffect(()=>{e&&m.success("App ready to work offline")},[e]),r.useEffect(()=>{a&&m(e=>v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("span",{children:"New content available, click on reload button to update."}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{className:"bg-blue-500 text-white px-3 py-1 rounded text-sm",onClick:()=>o(!0),children:"Reload"}),v.jsx("button",{className:"bg-gray-200 px-3 py-1 rounded text-sm",onClick:()=>{t(!1),s(!1),m.dismiss(e.id)},children:"Close"})]})]}),{duration:1/0,position:"bottom-right"})},[a,o]),null}const K=()=>(e.useEffect(()=>{const e=()=>{d.get("/api/health").then(()=>{}).catch(e=>{})};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[]),null),F=e.lazy(()=>O(()=>import("./LandingPage-m3_TNZmt.js"),__vite__mapDeps([0,1,2,3]))),q=e.lazy(()=>O(()=>import("./Login-DqEQYq_d.js"),__vite__mapDeps([4,1,3,2,5]))),J=e.lazy(()=>O(()=>import("./Settings-BdZNm65s.js"),__vite__mapDeps([6,1,3,2]))),G=e.lazy(()=>O(()=>import("./AdminLayout-CNIdNaha.js"),__vite__mapDeps([7,1,3,2,5,8,9,10]))),H=e.lazy(()=>O(()=>import("./Dashboard-CEKa6z9Q.js"),__vite__mapDeps([11,1,3,12,2]))),Q=e.lazy(()=>O(()=>import("./Cadets-acQGJSD0.js"),__vite__mapDeps([13,1,3,14,15,10,2,16,17,18,9,19]))),Y=e.lazy(()=>O(()=>import("./ArchivedCadets-DLrpQ706.js"),__vite__mapDeps([20,1,3,2,18,9]))),X=e.lazy(()=>O(()=>import("./Grading-74rqoRrE.js"),__vite__mapDeps([21,1,3,2]))),Z=e.lazy(()=>O(()=>import("./Attendance-B8afCGhB.js"),__vite__mapDeps([22,1,3,23,18,9,2]))),ee=e.lazy(()=>O(()=>import("./Activities-FEvYWpTH.js"),__vite__mapDeps([24,1,3,15,2]))),te=e.lazy(()=>O(()=>import("./Achievements-pibQ09DL.js"),__vite__mapDeps([25,1,3,2]))),ae=e.lazy(()=>O(()=>import("./DataAnalysis-DCf6AKWL.js"),__vite__mapDeps([26,1,3,14,15,2]))),se=e.lazy(()=>O(()=>import("./PerformanceMonitor-DxcMkwq1.js"),__vite__mapDeps([27,1,3,2]))),oe=e.lazy(()=>O(()=>import("./Profile-BttsLt1H.js"),__vite__mapDeps([28,1,3,10,2]))),re=e.lazy(()=>O(()=>import("./TrainingStaffManagement-CujM-oC4.js"),__vite__mapDeps([29,1,3,2,10,16]))),ne=e.lazy(()=>O(()=>import("./StaffAttendanceScanner-Dlmuoj4E.js"),__vite__mapDeps([30,1,3,2,15]))),ie=e.lazy(()=>O(()=>import("./StaffAnalytics-D2fqMixy.js"),__vite__mapDeps([31,1,3,2]))),le=e.lazy(()=>O(()=>import("./AdminMessages-BODXUVug.js"),__vite__mapDeps([32,1,3,2]))),ce=e.lazy(()=>O(()=>import("./BroadcastMessages-DNKsdpkT.js"),__vite__mapDeps([33,1,3,2]))),de=e.lazy(()=>O(()=>import("./ThreeDStudio-BTE3kKrb.js"),__vite__mapDeps([34,1,3,2]))),me=e.lazy(()=>O(()=>import("./CadetLayout-NIjc4BP0.js"),__vite__mapDeps([35,1,3,2,10,8,9]))),ue=e.lazy(()=>O(()=>import("./Home-CPAw60sH.js"),__vite__mapDeps([36,1,3,2,12]))),pe=e.lazy(()=>O(()=>import("./Dashboard-uSiq0kGi.js"),__vite__mapDeps([37,1,3,19,9,2]))),_e=e.lazy(()=>O(()=>import("./Profile-DXw4YTxk.js"),__vite__mapDeps([38,1,3,15,10,16,17,19,9,2]))),fe=e.lazy(()=>O(()=>import("./About-L8wweSZZ.js"),__vite__mapDeps([39,1,3,2]))),he=e.lazy(()=>O(()=>import("./Achievements-DOnDQUOr.js"),__vite__mapDeps([40,1,3,18,9,2]))),ge=e.lazy(()=>O(()=>import("./AskAdmin-DU5j8Vzf.js"),__vite__mapDeps([41,1,3,2,19,9]))),je=e.lazy(()=>O(()=>import("./StaffLayout-DH8n_mXf.js"),__vite__mapDeps([42,1,3,2,8,9,10]))),ye=e.lazy(()=>O(()=>import("./Home-BSWbMDgq.js"),__vite__mapDeps([43,1,3,2]))),xe=e.lazy(()=>O(()=>import("./Dashboard-DwLm24Px.js"),__vite__mapDeps([44,1,3,23,18,9,2,12]))),be=e.lazy(()=>O(()=>import("./Achievements-rSIJ34xa.js"),__vite__mapDeps([45,1,3,18,9,2]))),ve=e.lazy(()=>O(()=>import("./Profile-b6b5OL8K.js"),__vite__mapDeps([46,1,3,2,10]))),Ee=e.lazy(()=>O(()=>import("./Onboarding-C4pVTKIi.js"),__vite__mapDeps([47,1,3,15,2]))),Se=e.lazy(()=>O(()=>import("./Communication-CK6CTonQ.js"),__vite__mapDeps([48,1,3,2]))),Pe=e.lazy(()=>O(()=>import("./MyQRCode-DzqpE914.js"),__vite__mapDeps([49,1,3,15,2]))),Oe=()=>v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});function Re(){return v.jsx(U,{children:v.jsx(n,{children:v.jsx(C,{children:v.jsxs(M,{children:[v.jsx(u,{position:"top-center"}),v.jsx($,{}),v.jsx(K,{}),v.jsx(e.Suspense,{fallback:v.jsx(Oe,{}),children:v.jsxs(i,{children:[v.jsx(l,{path:"/",element:v.jsx(F,{})}),v.jsx(l,{path:"/login",element:v.jsx(q,{})}),v.jsx(l,{element:v.jsx(B,{allowedRoles:["admin"]}),children:v.jsxs(l,{path:"/admin",element:v.jsx(G,{}),children:[v.jsx(l,{path:"dashboard",element:v.jsx(H,{})}),v.jsx(l,{path:"cadets",element:v.jsx(Q,{})}),v.jsx(l,{path:"archived-cadets",element:v.jsx(Y,{})}),v.jsx(l,{path:"staff",element:v.jsx(re,{})}),v.jsx(l,{path:"grading",element:v.jsx(X,{})}),v.jsx(l,{path:"attendance",element:v.jsx(Z,{})}),v.jsx(l,{path:"staff-scanner",element:v.jsx(ne,{})}),v.jsx(l,{path:"staff-analytics",element:v.jsx(ie,{})}),v.jsx(l,{path:"activities",element:v.jsx(ee,{})}),v.jsx(l,{path:"achievements",element:v.jsx(te,{})}),v.jsx(l,{path:"data-analysis",element:v.jsx(ae,{})}),v.jsx(l,{path:"performance",element:v.jsx(se,{})}),v.jsx(l,{path:"3d",element:v.jsx(de,{})}),v.jsx(l,{path:"profile",element:v.jsx(oe,{})}),v.jsx(l,{path:"messages",element:v.jsx(le,{})}),v.jsx(l,{path:"broadcasts",element:v.jsx(ce,{})}),v.jsx(l,{path:"settings",element:v.jsx(J,{role:"admin"})}),v.jsx(l,{index:!0,element:v.jsx(s,{to:"cadets",replace:!0})})]})}),v.jsx(l,{element:v.jsx(B,{allowedRoles:["cadet"]}),children:v.jsxs(l,{path:"/cadet",element:v.jsx(me,{}),children:[v.jsx(l,{path:"home",element:v.jsx(ue,{})}),v.jsx(l,{path:"dashboard",element:v.jsx(pe,{})}),v.jsx(l,{path:"profile",element:v.jsx(_e,{})}),v.jsx(l,{path:"achievements",element:v.jsx(he,{})}),v.jsx(l,{path:"broadcasts",element:v.jsx(ce,{})}),v.jsx(l,{path:"about",element:v.jsx(fe,{})}),v.jsx(l,{path:"ask-admin",element:v.jsx(ge,{})}),v.jsx(l,{path:"settings",element:v.jsx(J,{role:"cadet"})}),v.jsx(l,{index:!0,element:v.jsx(s,{to:"home",replace:!0})})]})}),v.jsx(l,{element:v.jsx(B,{allowedRoles:["training_staff"]}),children:v.jsxs(l,{path:"/staff",element:v.jsx(je,{}),children:[v.jsx(l,{path:"home",element:v.jsx(ye,{})}),v.jsx(l,{path:"dashboard",element:v.jsx(xe,{})}),v.jsx(l,{path:"unit-dashboard",element:v.jsx(H,{})}),v.jsx(l,{path:"data-analysis",element:v.jsx(ae,{})}),v.jsx(l,{path:"activities",element:v.jsx(ee,{})}),v.jsx(l,{path:"achievements",element:v.jsx(be,{})}),v.jsx(l,{path:"profile",element:v.jsx(ve,{})}),v.jsx(l,{path:"profile-completion",element:v.jsx(Ee,{})}),v.jsx(l,{path:"communication",element:v.jsx(Se,{})}),v.jsx(l,{path:"broadcasts",element:v.jsx(ce,{})}),v.jsx(l,{path:"my-qr",element:v.jsx(Pe,{})}),v.jsx(l,{path:"ask-admin",element:v.jsx(ge,{})}),v.jsx(l,{path:"settings",element:v.jsx(J,{role:"staff"})}),v.jsx(l,{index:!0,element:v.jsx(s,{to:"home",replace:!0})})]})}),v.jsx(l,{path:"*",element:v.jsx(s,{to:"/login",replace:!0})})]})})]})})})})}d.defaults.baseURL="https://msu-snd-rgms-1.onrender.com",d.interceptors.response.use(e=>e,e=>{var t,a,s,o,r,n,i,l,c;try{const d=null==(t=null==e?void 0:e.response)?void 0:t.status,m=(null==(a=null==e?void 0:e.config)?void 0:a.url)||"",u=(null==(s=null==e?void 0:e.response)?void 0:s.data)&&(e.response.data.message||e.response.data.error)||"";if(404===d&&m.includes("/api/staff/me"))return Promise.resolve({data:{id:null,first_name:"",last_name:"",rank:"",role:"training_staff",profile_pic:null,username:null},status:200,statusText:"OK",headers:(null==(o=e.response)?void 0:o.headers)||{},config:e.config});if((403===d||404===d)&&m.includes("/api/attendance/my-history/staff"))return Promise.resolve({data:[],status:200,statusText:"OK",headers:(null==(r=e.response)?void 0:r.headers)||{},config:e.config});if(403===d&&/not a cadet/i.test(u)){if(m.includes("/api/cadet/my-merit-logs"))return Promise.resolve({data:[],status:200,statusText:"OK",headers:(null==(n=e.response)?void 0:n.headers)||{},config:e.config});if(m.includes("/api/cadet/my-grades"))return Promise.resolve({data:{attendanceScore:0,attendance_present:0,aptitudeScore:0,merit_points:0,demerit_points:0,subjectScore:0,prelim_score:0,midterm_score:0,final_score:0,finalGrade:0,transmutedGrade:"5.00",remarks:"Not a cadet"},status:200,statusText:"OK",headers:(null==(i=e.response)?void 0:i.headers)||{},config:e.config});if(m.includes("/api/cadet/profile"))return Promise.resolve({data:null,status:200,statusText:"OK",headers:(null==(l=e.response)?void 0:l.headers)||{},config:e.config});if(m.includes("/api/attendance/my-history"))return Promise.resolve({data:[],status:200,statusText:"OK",headers:(null==(c=e.response)?void 0:c.headers)||{},config:e.config})}}catch{}return Promise.reject(e)}),E.createRoot(document.getElementById("root")).render(v.jsx(r.StrictMode,{children:v.jsx(Re,{})}));export{O as _,V as a,k as b,w as c,I as d,A as e,L as g,v as j,N as u};
