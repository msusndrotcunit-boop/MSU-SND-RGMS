const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.plugin.autotable-BFC-6jPN.js","assets/index-b5aGx8Xb.js","assets/vendor-react-BJYbxeCs.js","assets/vendor-utils-qHW_S61q.js","assets/vendor-ui-Cf-65S3f.js","assets/index-Bt6Ysl0c.css"])))=>i.map(i=>d[i]);
import{j as e,c as a,g as t,b as s,_ as r}from"./index-b5aGx8Xb.js";import{r as l}from"./vendor-react-BJYbxeCs.js";import{c as d,a as n}from"./vendor-utils-qHW_S61q.js";import"./jspdf.plugin.autotable-BFC-6jPN.js";import{i}from"./vendor-media-Cvam96dz.js";import{a as o}from"./image-CT_PXJmf.js";import{a5 as c,y as m,X as u,a6 as x,J as g,a7 as h,a8 as p,T as b,a9 as y,aa as f,ab as v,ac as j,d as w,ad as N,ae as k,af as C,a as S,ag as _,a2 as L,n as z}from"./vendor-ui-Cf-65S3f.js";import{R as A,C as P,a as R,Y as E,S as I,b as F,B as D,c as T,P as B,d as U,G as O}from"./options-BYzxVcHd.js";import{P as M}from"./religions-DvHeR2Pm.js";import{R as W}from"./ResponsiveTable-C00et9LP.js";import{u as $,a as H}from"./useResponsive-XC39aU2L.js";import{M as Y,F as G,a as q,b as V}from"./MobileFormLayout-BNO80T7k.js";const J=({isOpen:a=!1,onClose:t,title:s,children:r,size:n="default",showCloseButton:i=!0,closeOnBackdrop:o=!0,closeOnEscape:x=!0,preventBodyScroll:g=!0,className:h="",contentClassName:p="",headerClassName:b="",footerActions:y=null,stickyFooter:f=!1,maxHeight:v="auto",...j})=>{const{isMobile:w,keyboardVisible:N,keyboardHeight:k}=$(),{applySafeAreaStyle:C}=H(),S=l.useRef(null),_=l.useRef(null),[L,z]=l.useState(!1),[A,P]=l.useState(!1),R={small:{mobile:"w-full max-w-sm",desktop:"w-full max-w-md"},default:{mobile:"w-full max-w-full",desktop:"w-full max-w-2xl"},large:{mobile:"w-full max-w-full",desktop:"w-full max-w-4xl"},fullscreen:{mobile:"w-full h-full",desktop:"w-full max-w-6xl h-full max-h-[95vh]"}},E=l.useCallback(()=>{if(!w)return{};const e=window.innerHeight,a=N?e-k:e,t={maxHeight:"fullscreen"===n?"100vh":`${Math.min(.9*a,800)}px`,...C("all")};return N&&(t.marginBottom=`${k+16}px`,t.maxHeight=a-32+"px"),t},[w,N,k,n,C]);l.useEffect(()=>{if(!a||!x)return;const e=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a,x,t]),l.useEffect(()=>{if(!a||!g)return;const e=window.getComputedStyle(document.body),t=e.overflow,s=e.paddingRight,r=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",r>0&&(document.body.style.paddingRight=`${r}px`),()=>{document.body.style.overflow=t,document.body.style.paddingRight=s}},[a,g]),l.useEffect(()=>{if(a){z(!0);const e=setTimeout(()=>z(!1),300);return()=>clearTimeout(e)}},[a]);const I=()=>{P(!A)};if(l.useEffect(()=>{if(a&&S.current){const e=S.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e.length>0&&e[0].focus()}},[a]),!a)return null;const F=w?R[n].mobile:R[n].desktop,D=E();return e.jsx("div",{className:d("fixed inset-0 z-50 flex items-end md:items-center justify-center","bg-black/60 backdrop-blur-sm","transition-all duration-300 ease-out",L&&"animate-in fade-in duration-300",h),onClick:e=>{o&&e.target===e.currentTarget&&t()},...j,children:e.jsxs("div",{ref:S,className:d("bg-white dark:bg-gray-800 shadow-2xl","transition-all duration-300 ease-out transform",w?["w-full mx-4 mb-4","fullscreen"===n?"h-full rounded-t-2xl":"rounded-2xl",A&&"fullscreen"!==n&&"translate-y-[calc(100%-4rem)]"]:[F,"mx-4 rounded-xl",L&&"animate-in zoom-in-95 duration-300"],w&&"overflow-hidden",p),style:D,onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:d("flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",w&&"sticky top-0 bg-white dark:bg-gray-800 z-10",b),children:[e.jsx("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:s&&e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:s})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[w&&"fullscreen"!==n&&e.jsx("button",{onClick:I,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors touch-target",title:A?"Expand":"Minimize",style:{minHeight:"44px",minWidth:"44px"},children:A?e.jsx(c,{size:20}):e.jsx(m,{size:20})}),i&&e.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors touch-target",title:"Close",style:{minHeight:"44px",minWidth:"44px"},children:e.jsx(u,{size:20})})]})]}),e.jsx("div",{ref:_,className:d("overflow-y-auto",A&&w&&"fullscreen"!==n&&"hidden",w&&"-webkit-overflow-scrolling: touch",f&&y&&"pb-16"),style:{maxHeight:"auto"===v?w?"calc(100vh - 8rem)":"calc(90vh - 8rem)":v},children:e.jsx("div",{className:"p-4 md:p-6",children:r})}),y&&e.jsx("div",{className:d("border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-900/50",f&&w&&"sticky bottom-0",A&&w&&"fullscreen"!==n&&"hidden"),children:e.jsx("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 space-y-2 space-y-reverse sm:space-y-0",children:y})}),w&&A&&"fullscreen"!==n&&e.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full cursor-pointer",onClick:I})]})})},K=()=>{const[d,$]=l.useState([]),[H,K]=l.useState(!0),[Q,X]=l.useState(""),[Z,ee]=l.useState(!1),[ae,te]=l.useState(!1),[se,re]=l.useState(null),[le,de]=l.useState(null),[ne,ie]=l.useState(null),[oe,ce]=l.useState(!1),[me,ue]=l.useState(null),[xe,ge]=l.useState(!1);l.useEffect(()=>{const e="true"===localStorage.getItem("darkMode");ce(e),e&&document.documentElement.classList.add("dark")},[]);const[he,pe]=l.useState(!1),[be,ye]=l.useState(null),[fe,ve]=l.useState(""),[je,we]=l.useState(!1),[Ne,ke]=l.useState(null),[Ce,Se]=l.useState(!1),[_e,Le]=l.useState(!1),[ze,Ae]=l.useState(!1),[Pe,Re]=l.useState({rank:"",firstName:"",middleName:"",lastName:"",suffixName:"",studentId:"",email:"",contactNumber:"",address:"",course:"",yearLevel:"",schoolYear:"",battalion:"",company:"",platoon:"",cadetCourse:"",semester:"",status:"Ongoing"}),[Ee,Ie]=l.useState({}),[Fe,De]=l.useState("All"),[Te,Be]=l.useState(()=>{const e=sessionStorage.getItem("cadet_filters_expanded");return null!==e?"true"===e:window.innerWidth>=768}),[Ue,Oe]=l.useState(()=>{const e=sessionStorage.getItem("cadet_controls_expanded");return null!==e?"true"===e:window.innerWidth>=768});l.useEffect(()=>{sessionStorage.setItem("cadet_filters_expanded",Te)},[Te]),l.useEffect(()=>{sessionStorage.setItem("cadet_controls_expanded",Ue)},[Ue]);const[Me,We]=l.useState([]),[$e,He]=l.useState([]),[Ye,Ge]=l.useState(!1),[qe,Ve]=l.useState({title:"Cadet Master List",company:"All",preparedBy:"Admin",notedBy:"Commandant"}),Je=[...new Set(d.map(e=>e.company).filter(Boolean))];l.useEffect(()=>{let e;(async()=>{try{await a("admin","cadets_list",null)}catch{}await Qe(!0),Ke()})();const t=()=>{try{e=new EventSource("/api/attendance/events"),e.onmessage=e=>{try{const a=JSON.parse(e.data||"{}");new Set(["cadet_updated","cadet_created","cadet_deleted","cadet_profile_updated","attendance_updated","grade_updated"]).has(a.type)&&(Qe(!0),Xe(!0))}catch{}},e.onerror=()=>{try{e&&e.close()}catch{}setTimeout(t,3e3)}}catch{}};return t(),()=>{try{e&&e.close()}catch{}}},[]);const Ke=async()=>{try{const e=await n.get("/api/admin/settings/cadet-source");ke(e.data.url)}catch(e){}},Qe=async(e=!1)=>{if(!e)try{const e=await t("admin","cadets_list");if(e){let a=e,t=0;if(e.data&&e.timestamp?(a=e.data,t=e.timestamp):Array.isArray(e)&&(a=e),Array.isArray(a)&&($(a),K(!1),t&&Date.now()-t<12e4&&a.length>0))return}}catch(s){}try{const e=await n.get("/api/admin/cadets",{params:{includeGrades:!1,includeArchived:"Archived"===Fe,course:Fe,search:Q}}),t=Array.isArray(e.data)?e.data:e.data.data;$(t),K(!1),await a("admin","cadets_list",{data:t,timestamp:Date.now()})}catch(r){K(!1)}},Xe=async()=>{try{const e=await n.get("/api/admin/cadets/archived");He(e.data||[])}catch(e){}},Ze=e=>{te(!1),re(e);const a=o(e.profile_pic,e.id,"cadets");ie(a),de(null),ue(null),ge(!0),n.get("/api/admin/locations").then(a=>{const t=(a.data||[]).find(a=>"cadet"===a.role&&Number(a.cadet_id)===Number(e.id));ue(t||null)}).catch(()=>{ue(null)}).finally(()=>{ge(!1)}),Ie({rank:e.rank||"",firstName:e.first_name||"",middleName:e.middle_name||"",lastName:e.last_name||"",suffixName:e.suffix_name||"",studentId:e.student_id||"",email:e.email||"",username:e.username||"",contactNumber:e.contact_number||"",address:e.address||"",gender:e.gender||"",religion:e.religion||"",birthdate:e.birthdate||"",course:e.course||"",yearLevel:e.year_level||"",schoolYear:e.school_year||"",battalion:e.battalion||"",company:e.company||"",platoon:e.platoon||"",cadetCourse:e.cadet_course||"",semester:e.semester||"",corpPosition:e.corp_position||"",status:e.status||"Ongoing"}),ee(!0)},ea=("Archived"===Fe?$e:d).filter(e=>{if("Unverified"===Fe){if(e.is_profile_completed)return!1}else if("All"!==Fe){if("Archived"!==Fe&&e.cadet_course!==Fe)return!1;if("Archived"!==Fe&&!e.is_profile_completed)return!1}if(!Q)return!0;const a=Q.toLowerCase();return e.first_name&&e.first_name.toLowerCase().includes(a)||e.last_name&&e.last_name.toLowerCase().includes(a)||e.student_id&&e.student_id.toLowerCase().includes(a)||e.rank&&e.rank.toLowerCase().includes(a)||e.company&&e.company.toLowerCase().includes(a)}).sort((e,a)=>{const t=A.indexOf(e.rank),s=A.indexOf(a.rank);return(-1===s?-1:s)-(-1===t?-1:t)});return H?e.jsx("div",{className:"text-center p-10",children:"Loading..."}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Cadet Management"}),e.jsxs("button",{onClick:()=>Oe(!Ue),className:"md:hidden flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg shadow-sm font-medium w-full justify-center min-h-[44px]","aria-expanded":Ue,"aria-controls":"cadet-controls",children:[e.jsx(x,{size:18}),e.jsx("span",{children:Ue?"Hide Controls":"Show Controls"}),Ue?e.jsx(c,{size:18}):e.jsx(m,{size:18})]}),e.jsxs("div",{id:"cadet-controls",className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2 w-full md:w-auto transition-all duration-300 ease-in-out overflow-hidden "+(Ue?"max-h-[1000px] opacity-100":"max-h-0 opacity-0 md:max-h-none md:opacity-100"),children:[e.jsxs("div",{className:"relative flex-1 md:flex-none",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(g,{size:18,className:"text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search cadets...",className:"pl-10 pr-4 py-2 border rounded w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-blue-500",value:Q,onChange:e=>X(e.target.value)})]}),Ne&&e.jsxs("button",{onClick:async()=>{var e,a;if(Ne){Se(!0);try{const e=await n.post("/api/admin/sync-cadets");z.success(e.data.message),Qe(!0)}catch(t){z.error((null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.message)||"Sync failed")}finally{Se(!1)}}},disabled:Ce,className:"flex-1 md:flex-none bg-indigo-600 text-white px-4 py-2 rounded flex items-center justify-center space-x-2 hover:bg-indigo-700 "+(Ce?"opacity-50 cursor-not-allowed":""),title:`Synced with: ${Ne}`,children:[e.jsx(h,{size:18,className:Ce?"animate-spin":""}),e.jsx("span",{children:Ce?"Syncing...":"Sync"})]}),Me.length>0&&e.jsxs("button",{onClick:async()=>{if(0!==Me.length&&window.confirm(`Unlock profile for ${Me.length} cadets? This will allow them to edit their profile again.`))try{await n.post("/api/admin/cadets/unlock",{ids:Me}),z.success("Profiles unlocked successfully"),We([]),await a("admin","cadets_list",null),Qe(!0)}catch(e){z.error("Failed to unlock profiles")}},className:"flex-1 md:flex-none bg-yellow-600 text-white px-4 py-2 rounded flex items-center justify-center space-x-2 hover:bg-yellow-700 animate-fade-in",children:[e.jsx(p,{size:18}),e.jsxs("span",{children:["Unlock (",Me.length,")"]})]}),Me.length>0&&e.jsxs("button",{onClick:async()=>{if(window.confirm(`Are you sure you want to delete ${Me.length} cadets? This action cannot be undone.`))try{await n.post("/api/admin/cadets/delete",{ids:Me}),z.success("Cadets deleted successfully"),We([]),await a("admin","cadets_list",null),await s("attendance_by_day"),Qe(),Xe()}catch(e){z.error("Failed to delete cadets")}},className:"flex-1 md:flex-none bg-red-600 text-white px-4 py-2 rounded flex items-center justify-center space-x-2 hover:bg-red-700 animate-fade-in",children:[e.jsx(b,{size:18}),e.jsxs("span",{children:["Delete (",Me.length,")"]})]}),Me.length>0&&"Archived"===Fe&&e.jsxs("button",{onClick:async()=>{if(0!==Me.length&&window.confirm(`Restore ${Me.length} archived cadets? Their access may be re-enabled.`))try{await n.post("/api/admin/cadets/restore",{ids:Me}),z.success("Cadets restored successfully"),We([]),await a("admin","cadets_list",null),await s("attendance_by_day"),Qe(!0),Xe()}catch(e){z.error("Failed to restore cadets")}},className:"flex-1 md:flex-none bg-green-600 text-white px-4 py-2 rounded flex items-center justify-center space-x-2 hover:bg-green-700 animate-fade-in",children:[e.jsx(y,{size:18}),e.jsxs("span",{children:["Restore (",Me.length,")"]})]}),e.jsxs("button",{onClick:async()=>{Le(!0);try{await a("admin","cadets_list",null),await Qe(!0),z.success("Refreshed")}catch(e){}finally{Le(!1)}},disabled:_e,className:"flex-1 md:flex-none bg-gray-600 text-white px-4 py-2 rounded flex items-center justify-center space-x-2 hover:bg-gray-700 "+(_e?"opacity-50 cursor-not-allowed":""),children:[e.jsx(h,{size:18,className:_e?"animate-spin":""}),e.jsx("span",{children:_e?"Refreshing...":"Refresh"})]}),e.jsxs("button",{onClick:()=>pe(!0),className:"flex-1 md:flex-none bg-blue-600 text-white px-4 py-2 rounded flex items-center justify-center space-x-2 hover:bg-blue-700",children:[e.jsx(f,{size:18}),e.jsx("span",{children:"Import"})]}),e.jsxs("button",{onClick:()=>{d.length>=500?alert("Cannot add more cadets. The maximum limit of 500 cadets has been reached."):Ae(!0)},className:"flex-1 md:flex-none bg-green-600 text-white px-4 py-2 rounded flex items-center justify-center space-x-2 hover:bg-green-700",children:[e.jsx(v,{size:18}),e.jsx("span",{children:"Add Cadet"})]}),e.jsxs("button",{onClick:()=>Ge(!0),className:"flex-1 md:flex-none bg-green-700 text-white px-4 py-2 rounded flex items-center justify-center space-x-2 hover:bg-green-800",children:[e.jsx(j,{size:18}),e.jsx("span",{children:"PDF"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between md:hidden mb-2",children:[e.jsxs("button",{onClick:()=>Be(!Te),className:"flex items-center gap-2 px-3 py-2 bg-white border rounded-lg shadow-sm text-gray-700 font-medium min-w-[44px] min-h-[44px]","aria-expanded":Te,"aria-controls":"cadet-filter-tabs",children:[e.jsx(x,{size:18}),e.jsx("span",{children:Te?"Hide Filters":"Show Filters"}),Te?e.jsx(c,{size:18}):e.jsx(m,{size:18})]}),"All"!==Fe&&!Te&&e.jsx("span",{className:"text-xs font-medium px-2 py-1 bg-blue-100 text-blue-700 rounded-full",children:Fe})]}),e.jsx("div",{id:"cadet-filter-tabs",className:"transition-all duration-300 ease-in-out overflow-hidden "+(Te?"max-h-[500px] opacity-100":"max-h-0 opacity-0 md:max-h-none md:opacity-100"),children:e.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide flex-wrap md:flex-nowrap gap-y-2 md:gap-y-0",children:[e.jsx("button",{onClick:()=>De("All"),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap min-h-[40px] flex items-center "+("All"===Fe?"bg-blue-600 text-white shadow":"bg-white text-gray-600 border hover:bg-gray-50"),children:"All Cadets"}),e.jsx("button",{onClick:()=>De("Unverified"),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap min-h-[40px] flex items-center "+("Unverified"===Fe?"bg-yellow-500 text-white shadow":"bg-white text-gray-600 border hover:bg-gray-50"),children:"Unverified"}),e.jsx("button",{onClick:()=>{De("Archived"),Xe(),We([])},className:"px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap min-h-[40px] flex items-center "+("Archived"===Fe?"bg-gray-700 text-white shadow":"bg-white text-gray-600 border hover:bg-gray-50"),children:"Archived"}),P.map(a=>e.jsx("button",{onClick:()=>De(a),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap min-h-[40px] flex items-center "+(Fe===a?"bg-blue-600 text-white shadow":"bg-white text-gray-600 border hover:bg-gray-50"),children:a},a))]})})]}),e.jsx(W,{data:ea,columns:[{key:"name",label:"Name & Rank",render:(a,t)=>e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[e.jsx("span",{className:"font-bold text-blue-900 mr-1",children:t.rank}),t.last_name,", ",t.first_name]}),e.jsx("div",{className:"text-xs text-gray-500",children:t.email})]})},{key:"username",label:"Username",headerClassName:"px-1 pr-1",cellClassName:"px-1 pr-1 whitespace-nowrap",render:(e,a)=>a.username||a.student_id},{key:"unit",label:"Unit (Coy/Plt)",align:"center",headerClassName:"px-1 pl-1",cellClassName:"px-1 pl-1 whitespace-nowrap",render:(e,a)=>`${a.company||"-"}/${a.platoon||"-"}`},{key:"status",label:"Status",align:"center",headerClassName:"px-2",cellClassName:"px-2",render:(a,t)=>t.is_profile_completed?e.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded "+("Ongoing"===t.status?"bg-blue-100 text-blue-800":"Completed"===t.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.status}):e.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded bg-yellow-100 text-yellow-800 border border-yellow-200",children:"Unverified"})}],loading:H,emptyMessage:"No cadets found.",selectable:!0,selectedItems:Me,onSelectionChange:We,sortable:!0,filterable:!0,pagination:!0,itemsPerPage:20,cardLayout:"never",actions:[...ea.some(e=>e.is_profile_completed)?[{icon:p,label:"Unlock Profile",onClick:e=>(async e=>{if(window.confirm("Unlock this profile? The cadet will be able to edit their details again."))try{await n.post("/api/admin/cadets/unlock",{ids:[e]}),z.success("Profile unlocked successfully"),await a("admin","cadets_list",null),Qe(!0)}catch(t){z.error("Failed to unlock profile")}})(e.id),className:"text-yellow-600 hover:text-yellow-800 hover:bg-yellow-50"}]:[],{icon:w,label:"View Profile",onClick:e=>{Ze(e),te(!0)},className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50"},{icon:N,label:"Edit Info",onClick:Ze,className:"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}],className:"bg-white rounded shadow"}),e.jsx(J,{isOpen:Ye,onClose:()=>Ge(!1),title:"Export Settings",size:"default",footerActions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Ge(!1),className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors touch-target",children:"Cancel"}),e.jsxs("button",{onClick:async()=>{try{const e=(await r(async()=>{const{default:e}=await import("./jspdf.plugin.autotable-BFC-6jPN.js").then(e=>e.j);return{default:e}},__vite__mapDeps([0,1,2,3,4,5]))).default,a=(await r(async()=>{const{default:e}=await import("./jspdf.plugin.autotable-BFC-6jPN.js").then(e=>e.a);return{default:e}},__vite__mapDeps([0,1,2,3,4,5]))).default,t=new e,s=["Rank","Name","Student ID","Unit","Email","Phone","Address"],l=[];("All"===qe.company?d:d.filter(e=>e.company===qe.company)).forEach(e=>{const a=[e.rank,`${e.last_name}, ${e.first_name}`,e.student_id,`${e.company||"-"}/${e.platoon||"-"}`,e.email||"-",e.contact_number||"-",e.address||"-"];l.push(a)});const n=async e=>{if(!e)return null;if(e.startsWith("data:"))return e;try{const a=await fetch(e),t=await a.blob();return await new Promise(e=>{const a=new FileReader;a.onloadend=()=>e(a.result),a.readAsDataURL(t)})}catch{return null}},i=null,o=null,c=await n(i),m=await n(o);a(t,{head:[s],body:l,startY:50,theme:"grid",styles:{fontSize:8},headStyles:{fillColor:[22,163,74]},margin:{top:40,bottom:20},didDrawPage:()=>{((e,{title:a,dateText:t,leftLogo:s,rightLogo:r})=>{const l=e.internal.pageSize.getWidth();try{s&&e.addImage(s,"PNG",14,12,18,18)}catch{}try{r&&e.addImage(r,"PNG",l-14-18,12,18,18)}catch{}e.setFontSize(10),e.text("MSU-SND ROTCU",36,18),e.text(t||(new Date).toLocaleDateString(),l-14-20,18),e.setFontSize(16),e.text(a||"Report",l/2,30,{align:"center"})})(t,{title:`${qe.title||"Cadet List"}`,dateText:(new Date).toLocaleDateString(),leftLogo:c,rightLogo:m}),(e=>{const a=e.internal.pageSize.getWidth(),t=e.internal.pageSize.getHeight();e.setFontSize(8);const s=`Generated by MSU-SND RGMS • Page ${e.getCurrentPageInfo().pageNumber}`;e.text(s,a/2,t-8,{align:"center"})})(t)}});const u=t.lastAutoTable&&t.lastAutoTable.finalY||60;((e,a,{preparedBy:t,preparedRole:s,certifiedBy:r,certifiedRole:l})=>{const d=e.internal.pageSize.getWidth();let n=a+10;n>e.internal.pageSize.getHeight()-20&&(e.addPage(),n=20),e.setFontSize(10);const i=d-14-70;e.text("Prepared by:",14,n),e.text("CERTIFIED CORRECT:",i,n),n+=6;const o=t,c=r,m=s,u=l,[x,g]=m.split("•").map(e=>(e||"").trim()),[h,p]=u.split("•").map(e=>(e||"").trim()),b=e=>{var a,t;if(!e)return[];const s=e.match(/^\s*(.*?)\s*\(\s*(.*?)\s*\)\s*(.*)\s*$/);return s?[null==(a=s[1])?void 0:a.trim(),s[2]?`(${s[2].trim()})`:"",null==(t=s[3])?void 0:t.trim()].filter(Boolean):[e.trim()]},y=a=>{const t=b(a);let s=0;return e.setFont("helvetica","normal"),t[0]&&(s+=e.getTextWidth(t[0])),t[1]&&(s+=20+e.getTextWidth(t[1])),t[2]&&(s+=16+e.getTextWidth(t[2])),s},f=14+y(x),v=i+y(h);e.setFont("helvetica","bold"),e.text(o,f,n,{align:"right"}),e.text(c,v,n,{align:"right"}),e.setFont("helvetica","normal");const j=(a,t,s)=>{const r=b(s);if(0===r.length)return;let l=a;r[0]&&(e.text(r[0],l,t),l+=e.getTextWidth(r[0])+20),r[1]&&(e.text(r[1],l,t),l+=e.getTextWidth(r[1])+16),r[2]&&e.text(r[2],l,t)};n+=5,j(14,n,x),j(i,n,h),n+=5,g&&e.text(g,14,n),p&&e.text(p,i,n)})(t,u,{preparedBy:"Wilmer B Montejo",preparedRole:"SSg (Inf) PA • Admin NCO",certifiedBy:"INDIHRA D TAWANTAWAN",certifiedRole:"LTC (RES) PA • Commandant"}),t.save("ROTC_Cadet_List.pdf")}catch(e){z.error(`Failed to generate PDF: ${e.message}`)}},className:"w-full sm:w-auto px-4 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 flex justify-center items-center transition-colors touch-target",children:[e.jsx(j,{size:18,className:"mr-2"}),"Generate PDF"]})]}),children:e.jsxs(Y,{className:"space-y-4",children:[e.jsx(G,{label:"Document Title",required:!0,children:e.jsx(q,{value:qe.title,onChange:e=>Ve({...qe,title:e.target.value}),placeholder:"Enter document title"})}),e.jsx(G,{label:"Filter by Company",children:e.jsx(V,{value:qe.company,onChange:e=>Ve({...qe,company:e.target.value}),options:[{value:"All",label:"All Companies"},...Je.map(e=>({value:e,label:e}))]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(G,{label:"Prepared By",children:e.jsx(q,{value:qe.preparedBy,onChange:e=>Ve({...qe,preparedBy:e.target.value}),placeholder:"Name"})}),e.jsx(G,{label:"Noted By",children:e.jsx(q,{value:qe.notedBy,onChange:e=>Ve({...qe,notedBy:e.target.value}),placeholder:"Commandant"})})]})]})}),he&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Import Cadet List"}),e.jsx("button",{onClick:()=>pe(!1),children:e.jsx(u,{size:20})})]}),e.jsxs("form",{onSubmit:async e=>{var t,r,l;if(e.preventDefault(),be||fe){we(!0);try{let e;if(be){const a=new FormData;a.append("file",be),e=await n.post("/api/admin/import-cadets",a,{headers:{"Content-Type":"multipart/form-data"}})}else e=await n.post("/api/admin/import-cadets-url",{url:fe});let t=e.data.message||"Import successful!";e.data.errors&&e.data.errors.length>0&&(t+="\n\nErrors encountered:\n"+e.data.errors.join("\n")),z.success(t),pe(!1),ye(null),ve("");try{await s("attendance_by_day"),await a("analytics","dashboard",null)}catch(d){}Qe(!0),Ke()}catch(i){const e=null==(t=i.response)?void 0:t.status;401===e||403===e||i.message.includes("401")||i.message.includes("403")?(z.error("Session expired. Please log in again."),window.location.href="/login"):z.error("Import failed: "+((null==(l=null==(r=i.response)?void 0:r.data)?void 0:l.message)||i.message))}finally{we(!1)}}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload File (ROTCMIS Format)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",accept:".xlsx,.xls,.csv,.pdf",onChange:e=>ye(e.target.files[0]),className:"hidden",id:"file-upload"}),e.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(f,{size:32,className:"text-gray-400 mb-2"}),e.jsx("span",{className:"text-blue-600 hover:text-blue-800",children:"Choose file"}),e.jsx("span",{className:"text-sm text-gray-500 mt-1",children:be?be.name:"or drag and drop here"})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Supported formats:"})," .xlsx, .xls, .csv, .pdf"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Supported Columns:"})," No (ignored), Rank, First Name, Middle Name, Last Name, Username, Email, Student ID"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Note:"})," Login uses Username (defaults to Student ID) or Email."]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Import via OneDrive/SharePoint Link"}),e.jsx("input",{type:"url",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Paste OneDrive/SharePoint direct download link...",value:fe,onChange:e=>{ve(e.target.value),ye(null)}}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Ensure the link is accessible. For OneDrive/SharePoint, use a shared link and append ",e.jsx("code",{children:"?download=1"})," if needed."]})]}),e.jsxs("div",{className:"pt-4 flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>pe(!1),className:"flex-1 px-4 py-2 border rounded text-gray-600 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!be&&!fe||je,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex justify-center items-center "+(je?"opacity-50 cursor-not-allowed":""),children:je?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{size:18,className:"mr-2"}),"Import"]})})]})]})]})}),ze&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg mx-4 p-6 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Add New Cadet"}),e.jsx("button",{onClick:()=>Ae(!1),children:e.jsx(u,{size:20})})]}),e.jsxs("form",{onSubmit:async e=>{var t,r;if(e.preventDefault(),d.length>=500)alert("Cannot add more cadets. The maximum limit of 500 cadets has been reached.");else try{await n.post("/api/admin/cadets",Pe),z.success("Cadet added successfully. Please verify the profile in the Unverified tab."),Ae(!1),De("Unverified"),await a("admin","cadets_list",null),await s("attendance_by_day"),await Qe(!0),Re({rank:"",firstName:"",middleName:"",lastName:"",suffixName:"",studentId:"",email:"",contactNumber:"",address:"",course:"",yearLevel:"",schoolYear:"",battalion:"",company:"",platoon:"",cadetCourse:"",semester:"",status:"Ongoing"})}catch(l){z.error("Failed to add cadet: "+((null==(r=null==(t=l.response)?void 0:t.data)?void 0:r.message)||l.message))}},className:"space-y-4 overflow-y-auto pr-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("select",{className:"border p-2 rounded",value:Pe.rank,onChange:e=>Re({...Pe,rank:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Rank"}),A.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx("input",{className:"border p-2 rounded",required:!0,value:Pe.firstName,onChange:e=>Re({...Pe,firstName:e.target.value}),placeholder:"First Name *"}),e.jsx("input",{className:"border p-2 rounded",value:Pe.middleName,onChange:e=>Re({...Pe,middleName:e.target.value}),placeholder:"Middle Name"}),e.jsx("input",{className:"border p-2 rounded",required:!0,value:Pe.lastName,onChange:e=>Re({...Pe,lastName:e.target.value}),placeholder:"Last Name *"}),e.jsx("input",{className:"border p-2 rounded",value:Pe.suffixName,onChange:e=>Re({...Pe,suffixName:e.target.value}),placeholder:"Suffix"}),e.jsx("input",{className:"border p-2 rounded",required:!0,value:Pe.studentId,onChange:e=>Re({...Pe,studentId:e.target.value}),placeholder:"Student ID *"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{className:"border p-2 rounded",value:Pe.email,onChange:e=>Re({...Pe,email:e.target.value}),placeholder:"Email (Login Username)"}),e.jsx("input",{className:"border p-2 rounded",value:Pe.contactNumber,onChange:e=>Re({...Pe,contactNumber:e.target.value}),placeholder:"Contact Number"})]}),e.jsx("input",{className:"border p-2 rounded w-full",value:Pe.address,onChange:e=>Re({...Pe,address:e.target.value}),placeholder:"Address"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("select",{className:"border p-2 rounded",value:Pe.course,onChange:e=>Re({...Pe,course:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Course"}),R.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsxs("select",{className:"border p-2 rounded",value:Pe.yearLevel,onChange:e=>Re({...Pe,yearLevel:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Year Level"}),E.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsxs("select",{className:"border p-2 rounded",value:Pe.schoolYear,onChange:e=>Re({...Pe,schoolYear:e.target.value}),children:[e.jsx("option",{value:"",children:"Select School Year"}),I.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsxs("select",{className:"border p-2 rounded",value:Pe.semester,onChange:e=>Re({...Pe,semester:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Semester"}),F.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("select",{className:"border p-2 rounded",value:Pe.battalion,onChange:e=>Re({...Pe,battalion:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Battalion"}),D.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsxs("select",{className:"border p-2 rounded",value:Pe.company,onChange:e=>Re({...Pe,company:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Company"}),T.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsxs("select",{className:"border p-2 rounded",value:Pe.platoon,onChange:e=>Re({...Pe,platoon:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Platoon"}),B.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("select",{className:"border p-2 rounded",value:Pe.cadetCourse,onChange:e=>Re({...Pe,cadetCourse:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Cadet Course"}),P.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsxs("select",{className:"border p-2 rounded",value:Pe.status,onChange:e=>Re({...Pe,status:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Status"}),U.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"pt-4 flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>Ae(!1),className:"flex-1 py-2 border rounded hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add Cadet"})]})]})]})}),Z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start md:items-center justify-center p-3 sm:p-4 z-50 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-5xl mx-auto p-4 sm:p-6 flex flex-col my-6 sm:my-8 shadow-xl max-h-[90vh] overflow-y-auto text-sm sm:text-base "+(oe?"dark":""),children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-6 border-b pb-3 sm:pb-4 dark:border-gray-700 gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{type:"button",onClick:()=>ee(!1),className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600",children:[e.jsx(y,{size:16,className:"mr-1"}),"Back to List"]}),e.jsx("h3",{className:"text-lg sm:text-2xl font-bold dark:text-white",children:ae?"View Cadet Profile":"Edit Cadet Info"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>{const e=!oe;ce(e),localStorage.setItem("darkMode",e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Toggle Dark Mode Preview",children:oe?e.jsx(k,{className:"text-yellow-400",size:20}):e.jsx(C,{className:"text-gray-600",size:20})}),e.jsx("button",{onClick:()=>ee(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(u,{size:24})})]})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=new FormData;Object.keys(Ee).forEach(a=>{e.append(a,Ee[a])}),le&&e.append("profilePic",le),await n.put(`/api/admin/cadets/${se.id}`,e,{headers:{"Content-Type":"multipart/form-data"}}),await a("admin","cadets_list",null),await s("attendance_by_day"),Qe(!0),ee(!1),z.success("Cadet updated successfully")}catch(t){z.error("Error updating cadet")}},className:"grid grid-cols-1 md:grid-cols-3 gap-5 md:gap-8",children:[e.jsxs("div",{className:"md:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-lg shadow-inner text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600 mx-auto border-4 border-white dark:border-gray-600 shadow-lg",children:ne?e.jsx("img",{src:ne,alt:"Profile",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.parentElement.innerHTML='<div class="w-full h-full flex items-center justify-center text-gray-400"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></div>'}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 dark:text-gray-300",children:e.jsx(S,{size:64})})}),!ae&&e.jsxs("label",{className:"absolute bottom-2 right-2 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700 shadow-md transition-transform hover:scale-105",children:[e.jsx(_,{size:18}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{const a=e.target.files[0];if(a){const e={maxSizeMB:.5,maxWidthOrHeight:1024,useWebWorker:!0};try{const t=await i(a,e);de(t),ie(URL.createObjectURL(t))}catch(t){de(a),ie(URL.createObjectURL(a))}}}})]})]}),e.jsxs("h2",{className:"mt-4 text-xl font-bold text-gray-800 dark:text-white",children:[Ee.lastName,", ",Ee.firstName]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-300 font-medium",children:Ee.rank||"Cadet"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-4 rounded-lg shadow border dark:border-gray-600",children:[e.jsx("h3",{className:"font-bold mb-3 text-gray-700 dark:text-gray-200 uppercase text-xs tracking-wider",children:"Account Status"}),e.jsx("select",{disabled:ae,value:Ee.status,onChange:e=>Ie({...Ee,status:e.target.value}),className:"w-full p-2 rounded font-bold border-0 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 "+("Ongoing"===Ee.status?"bg-green-50 text-green-700 ring-green-600/20":"Failed"===Ee.status||"Drop"===Ee.status?"bg-red-50 text-red-700 ring-red-600/20":"bg-gray-50 text-gray-600 ring-gray-500/10"),children:U.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-4 rounded-lg shadow border dark:border-gray-600",children:[e.jsxs("h3",{className:"font-bold mb-3 text-gray-700 dark:text-gray-200 uppercase text-xs tracking-wider flex items-center gap-2",children:[e.jsx(L,{size:16}),"Last Known Location"]}),xe&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Loading location..."}),!xe&&!me&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:"No location data yet for this account."}),!xe&&me&&e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"text-gray-700 dark:text-gray-200",children:[me.last_latitude.toFixed(4),", ",me.last_longitude.toFixed(4)]}),me.last_location_at&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Updated ",new Date(me.last_location_at).toLocaleString()]}),e.jsxs("button",{type:"button",onClick:()=>{const e=`https://www.google.com/maps?q=${me.last_latitude},${me.last_longitude}`;window.open(e,"_blank","noopener,noreferrer")},className:"mt-2 inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-green-600 text-white hover:bg-green-700 transition-colors",children:[e.jsx(L,{size:14,className:"mr-1"}),"Ping Location"]})]})]})]}),e.jsxs("div",{className:"md:col-span-2 space-y-6 pb-4 sm:pb-6",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-5 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsxs("h4",{className:"font-bold text-green-800 dark:text-green-300 mb-4 text-sm uppercase tracking-wide flex items-center",children:[e.jsx(S,{size:16,className:"mr-2"})," Login Credentials"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),e.jsx("input",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-800 dark:text-white p-2 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-shadow disabled:opacity-60 disabled:cursor-not-allowed",value:Ee.username,onChange:e=>Ie({...Ee,username:e.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-800 dark:text-white p-2 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-shadow disabled:opacity-60 disabled:cursor-not-allowed",value:Ee.email,onChange:e=>Ie({...Ee,email:e.target.value})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4 pb-2 border-b dark:border-gray-700 text-gray-800 dark:text-white",children:"Personal Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rank"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.rank,onChange:e=>Ie({...Ee,rank:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Rank"}),A.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Suffix"}),e.jsx("input",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.suffixName,onChange:e=>Ie({...Ee,suffixName:e.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name"}),e.jsx("input",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.firstName,onChange:e=>Ie({...Ee,firstName:e.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Middle Name"}),e.jsx("input",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.middleName,onChange:e=>Ie({...Ee,middleName:e.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name"}),e.jsx("input",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.lastName,onChange:e=>Ie({...Ee,lastName:e.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Student ID"}),e.jsx("input",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.studentId,onChange:e=>Ie({...Ee,studentId:e.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{disabled:ae,type:"email",className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.email,onChange:e=>Ie({...Ee,email:e.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Gender"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.gender||"",onChange:e=>Ie({...Ee,gender:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Gender"}),O.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Birthdate"}),e.jsx("input",{type:"date",disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.birthdate||"",onChange:e=>Ie({...Ee,birthdate:e.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Religion"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.religion||"",onChange:e=>Ie({...Ee,religion:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Religion"}),M.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contact Number"}),e.jsx("input",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.contactNumber,onChange:e=>Ie({...Ee,contactNumber:e.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),e.jsx("input",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.address,onChange:e=>Ie({...Ee,address:e.target.value})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4 pb-2 border-b dark:border-gray-700 text-gray-800 dark:text-white",children:"Military & School Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.course,onChange:e=>Ie({...Ee,course:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Course"}),R.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Year Level"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.yearLevel,onChange:e=>Ie({...Ee,yearLevel:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Level"}),E.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"School Year"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.schoolYear,onChange:e=>Ie({...Ee,schoolYear:e.target.value}),children:[e.jsx("option",{value:"",children:"Select S.Y."}),I.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Battalion"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.battalion,onChange:e=>Ie({...Ee,battalion:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Battalion"}),D.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.company,onChange:e=>Ie({...Ee,company:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Company"}),T.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Platoon"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.platoon,onChange:e=>Ie({...Ee,platoon:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Platoon"}),B.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cadet Course"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.cadetCourse,onChange:e=>Ie({...Ee,cadetCourse:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Course"}),P.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Semester"}),e.jsxs("select",{disabled:ae,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-white p-2 rounded disabled:opacity-60",value:Ee.semester,onChange:e=>Ie({...Ee,semester:e.target.value}),children:[e.jsx("option",{value:"",children:"Select Semester"}),F.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]})]})]}),!ae&&e.jsxs("div",{className:"pt-4 border-t dark:border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>ee(!1),className:"px-4 sm:px-6 py-2 border rounded text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700 dark:border-gray-600 transition-colors text-sm sm:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 sm:px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-md transition-transform hover:scale-105 text-sm sm:text-base",children:"Save Changes"})]}),e.jsx("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 md:hidden",children:e.jsxs("button",{type:"button",onClick:()=>ee(!1),className:"w-full inline-flex items-center justify-center px-4 py-2 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600 text-sm font-medium",children:[e.jsx(y,{size:16,className:"mr-1"}),"Back to Cadet List"]})})]})]})]})})]})};export{K as default};
